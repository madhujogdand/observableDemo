
<div class="container"> 
    <div class="row">
      <div class="col-6">
        <table class="table table-bordered">
          <thead>
            <th>Deaprtment Id</th>
            <th>Department Name</th>
            <th>Actions</th>
          </thead>
          <tbody>
            @for(d of departmentList; track d.deptid){
              <tr>
                <td>{{d.deptid}}</td>
                <td>{{d.deptname}}</td>
                <td> 
                  <button type="button" class="btn btn-outline-info" (click)="editDepartments(d)">Edit</button>&nbsp; 
                  <button type="button" class="btn btn-outline-danger" (click)="deleteDepartments(d.deptid)">Delete</button>
                </td>
                </tr>
            }
          </tbody>
        </table>
      </div>
      <div class="col-6">
        <h3>Department</h3>
        <form [formGroup]="deptForms" (ngSubmit)="saveDepartment()">
          <div class="form-floating mb-3">
            <input type="number" class="form-control" formControlName="deptid"  name="deptid" id="deptid" placeholder="Dept Id" >
            <label for="id">Department Id</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" formControlName="deptname"  name="deptname" id="deptname" placeholder="Dept Name">
            <label for="name">Department Name</label>
            <div *ngIf="deptname?.invalid && deptname?.touched">
                <small class="text-danger" *ngIf="deptname?.errors?.['required']"> Department Name is required</small>
              </div>
          </div>
          <div class="form-floating mb-3">
            <button type="submit" *ngIf="!isUpdatebtn" class="btn btn-outline-primary">Add</button> &nbsp;&nbsp;
            <button type="submit" *ngIf="isUpdatebtn" class="btn btn-outline-primary">Update</button> &nbsp;&nbsp;
            <button type="button" class="btn btn-outline-primary" (click)="clearForm()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
</div>
